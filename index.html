<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta http-equiv="X-UA-Compatible" content="ie=edge" />
		<title>cars article</title>
		<link rel="manifest" href="./manifest.json" />
		<meta name="theme-color" content="#ff3860" />
		<link rel="stylesheet" href="assets/css/bulma.min.css" />
		<script defer src="assets/js/all.js"></script>
		<script src="assets/js/axios.min.js"></script>
		<script src="assets/js/vue.js"></script>
		<script src="assets/js/api.js"></script>
	</head>
	<body>
		<section id="app">
			<section class="hero">
				<div class="hero-body">
					<div class="container">
						<h1 class="title">
							{{ title }}
						</h1>
						<p class="subtitle">{{ description }}</p>
					</div>
				</div>
			</section>

			<!-- .section -->
			<div class="section has-background-light">
				<div class="container">
					<div class="columns is-multiline ">
						<div v-for="data in datas" class="column is-full">
							<article class="media notification is-white">
								<div class="media-content">
									<p class="title">{{ data.name }}</p>
									<p class="subtitle">{{ data.genre }}</p>
									<div class="content">
										<!-- Content -->
										{{ data.description }}
									</div>
								</div>
							</article>
						</div>
					</div>
				</div>
			</div>
			<!-- /.section -->

			<footer class="footer">
				<div class="content has-text-centered">
					<p><strong>Created</strong> by <a href="#">Liandi Haikal</a>.</p>
				</div>
			</footer>
		</section>

		<script>
			if ("serviceWorker" in navigator) {
				window.addEventListener("load", function() {
					navigator.serviceWorker
						.register("/service-worker.js")
						.then(function() {
							console.log("ServiceWorker Registration Success");
						})
						.catch(function() {
							console.log("ServiceWorker Registration Fail");
						});
				});
			} else {
				console.log("ServiceWorker not supported in this browser");
			}

			if ("Notification" in window) {
				requestPermission();
			} else {
				console.error("Browser not support notification.");
			}

			function requestPermission() {
				Notification.requestPermission().then(function(result) {
					if (result === "denied") {
						console.log("Notification feature not allowed.");
						return;
					} else if (result === "default") {
						console.error("User already close the permission dialog.");
						return;
					}

					console.log("Notification feature allowed");
				});
			}
		</script>
	</body>
</html>
